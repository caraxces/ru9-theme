{%- render 'section_css' -%}

<style>
  .about-customers-section {
    padding: 5rem 0;
    background-color: {{ section.settings.background_color | default: '#ffffff' }};
  }

  /* Header */
  .about-customers-header {
    text-align: left;
    margin-bottom: 50px;
  }

  .about-customers-title {
    color: #1C2C58;
    font-family: "Be Vietnam Pro";
    font-size: 39px;
    font-style: normal;
    font-weight: 700;
    line-height: 50px;
    border-bottom: 1px solid #1C2C58;
    padding-bottom: 20px;
    margin-bottom: 20px; /* cách dòng gạch dưới với phần sau 60px */
  }

  .about-customers-description {
    font-size: 20px;
    color: {{ section.settings.text_color | default: '#5E6B85' }};
    max-width: 100%;
    margin: 0;
    line-height: 1.6;
  }

  /* Grid layout */
  .about-customers-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    align-items: stretch;
  }

  /* Card tổng thể (ảnh + nội dung tách rời) */
  .about-customers-card {
    display: flex;
    border-radius: 5px;
    flex-direction: column;
    align-items: center;
    background: #F0F7FF;
    border: none;
    position: relative;
    padding: 20px;
    height: 100%;
    min-height: 100%;
  }

  /* Ảnh riêng biệt */
  .about-customers-image {
    margin-bottom: 0;
    text-align: center;
    flex-shrink: 0;
  }

  .about-customers-image img {
    width: 100%;
    max-width: 100%;
    height: 320px;
    object-fit: cover;
    border-radius: 3px;
    border: none;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  /* Khối nội dung riêng bên dưới */
  .about-customers-card-content {
    background-color: transparent;
    padding: 0;
    border-radius: 0;
    border: none;
    margin-top: 20px;
    text-align: left;
    width: 100%;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    box-shadow: none;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  /* Hover effects */
  .about-customers-card:hover .about-customers-image img {
    transform: scale(1.03);
    box-shadow: 0 6px 25px rgba(0, 0, 0, 0.15);
  }

  .about-customers-card:hover {
    background-color: #E8F2FF;
  }

  .about-customers-card h3 {
    font-size: 20px;
    font-weight: 700;
    color: {{ section.settings.title_color | default: '#1A2230' }};
    margin-bottom: 16px;
    line-height: 1.3;
  }

  .about-customers-card p {
    color: {{ section.settings.text_color | default: '#5E6B85' }};
    line-height: 1.6;
    margin: 0;
    font-size: 20px;
  }

  /* Responsive */
  @media (max-width: 1024px) {
    .about-customers-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
    }
  }

  @media (max-width: 768px) {
    .about-customers-section {
      padding: 40px 0;
    }
    .about-customers-section .page-width {
      padding: 0 15px;
    }
    .about-customers-title {
      font-size: 16px;
      line-height: 36px;
      margin-bottom: 40px;
      padding-bottom: 20px;
    }
    .about-customers-grid {
      display: flex;
      flex-direction: row;
      gap: 20px;
      overflow-x: auto;
      overflow-y: hidden;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
      padding-bottom: 10px;
    }
    .about-customers-card {
      flex: 0 0 280px;
      min-width: 280px;
      height: auto;
    }
    .about-customers-image img {
      height: 200px;
    }
  }
</style>

<div class="about-customers-section">
  <div class="page-width">
    <div class="about-customers-header">
      <h2 class="about-customers-title">
        Sự ủng hộ từ các Chuyên Gia, KOL và Influencer có ảnh hưởng
      </h2>
      <div class="about-customers-description">
        Chất lượng của Ru9 không chỉ được chứng minh qua trải nghiệm người dùng mà còn được kiểm chứng bởi các chuyên gia hàng đầu.
      </div>
    </div>
    
    <div class="about-customers-grid">
      {% for block in section.blocks %}
        <div class="about-customers-card">
          <div class="about-customers-image">
            {% if block.settings.image != blank %}
              <img 
                src="{{ block.settings.image | image_url: width: 422, height: 340 }}" 
                alt="{{ block.settings.image.alt | escape }}"
                width="422"
                height="340"
                loading="lazy"
              >
            {% else %}
              <img src="https://via.placeholder.com/422x340/3D6DFF/FFFFFF?text=Expert+{{ forloop.index }}" alt="Expert {{ forloop.index }}" width="422" height="340" />
            {% endif %}
          </div>
          <div class="about-customers-card-content">
            <h3>{{ block.settings.title }}</h3>
            <p>{{ block.settings.description }}</p>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "About Customers",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "card_background_color",
      "label": "Card Background Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title Color",
      "default": "#1A2230"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#5E6B85"
    }
  ],
  "blocks": [
    {
      "type": "about_customer_card",
      "name": "Customer Card",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Expert Title",
          "default": "TS.BS - Chuyên khoa Thần kinh, Bệnh viện Bạch Mai"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Expert Testimonial",
          "default": "Từ góc độ y khoa, tôi khuyên nghị RU9 cho bệnh nhân có vấn đề về giấc ngủ và đau lưng. Chất lượng foam và thiết kế hỗ trợ cột sống hiệu quả, đặc biệt phù hợp với cơ thể người Việt."
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Expert Image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "About Customers",
      "blocks": [
        {
          "type": "about_customer_card",
          "settings": {
            "title": "TS.BS - Chuyên khoa Thần kinh, Bệnh viện Bạch Mai",
            "description": "Từ góc độ y khoa, tôi khuyên nghị RU9 cho bệnh nhân có vấn đề về giấc ngủ và đau lưng. Chất lượng foam và thiết kế hỗ trợ cột sống hiệu quả, đặc biệt phù hợp với cơ thể người Việt."
          }
        },
        {
          "type": "about_customer_card",
          "settings": {
            "title": "Coach HLV Fitness với 500K followers",
            "description": "Recovery to 80% thành công trong Fitness, RU9 giúp tôi phục hồi tốt hơn sau mỗi buổi tập. Sau 8 tháng sử dụng nệm Original, tôi cảm nhận rõ sự khác biệt mang chất lượng giấc ngủ và khả năng phục hồi cơ bắp."
          }
        },
        {
          "type": "about_customer_card",
          "settings": {
            "title": "Blogger Mars Life Vietnam với 200K subscribers",
            "description": "Làm mẹ 2 con, giấc ngủ chất lượng là điều xa xỉ. Cho đến khi tôi dùng nệm Ru9, không chỉ tôi mà cả gia đình đều có giấc ngủ ngon hơn, quan hệ gia đình cũng hòa thuận hơn."
          }
        }
      ]
    }
  ]
}
{% endschema %}
