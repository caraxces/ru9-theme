{%- render 'section_css' -%}

<style>
  .about-promise-section {
    padding: 30px 0;
    background-color: {{ section.settings.background_color | default: '#ffffff' }};
  }
  /* Let theme handle canvas layout */
  .about-promise-content {
    display: flex;
    flex-direction: column;
    gap: 5rem;
  }
  .about-promise-header {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 80px;
    align-items: start;
  }
  .about-promise-left {
    display: flex;
    flex-direction: column;
    gap: 30px;
  }
  .about-promise-title {
    text-align: left;
    margin: 0;
  }
  .about-promise-title-line1 {
    font-size: 64px;
    font-weight: 700;
    color: {{ section.settings.subtitle_color | default: '#759CE6' }};
    margin: 0 0 8px 0;
    line-height: 1.2;
  }
  .about-promise-title-line2 {
    font-size: 64px;
    font-weight: 700;
    color: {{ section.settings.title_color | default: '#1A2B4D' }};
    margin: 0;
    line-height: 1.2;
  }
  .about-promise-description {
    color: {{ section.settings.text_color | default: '#333333' }};
    line-height: 1.6;
    margin: 0;
    font-size: 20px;
  }
  .about-promise-description p {
    margin-bottom: 16px;
  }
  .about-promise-description p:last-child {
    margin-bottom: 0;
  }
  .about-promise-right {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }
  .about-promise-timeline {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    position: relative;
  }
  .about-promise-timeline-line {
    width: 100%;
    height: 2px;
    background-color: #E5E7EB;
    position: relative;
    margin-bottom: 20px;
  }
  .about-promise-timeline::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: #E5E7EB;
    z-index: 0;
  }
  .about-promise-timeline-dots {
    display: flex;
    justify-content: space-between;
    width: 100%;
    position: relative;
    z-index: 1;
    margin-bottom: 0px;
  }
  .about-promise-timeline-dot {
    width: 20px;
    height: 20px;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #ffffff;
    padding: 0;
    box-sizing: border-box;
    transform: translateY(-50%);
  }
  .about-promise-timeline-dot svg {
    width: 20px;
    height: 20px;
  }
  .about-promise-timeline-labels {
    display: flex;
    justify-content: space-between;
    width: 100%;
    margin-top: 10px;
  }
  .about-promise-timeline-label {
    font-size: 14px;
    font-weight: 600;
    color: {{ section.settings.timeline_text_color | default: '#1A2B4D' }};
    text-align: center;
    margin: 0;
  }

  /* Mobile responsive */
  @media (max-width: 768px) {
    /* Let theme handle responsive padding */
    .about-promise-title {
      display: flex;
      flex-direction: row;
      align-items: baseline;
      gap: 8px;
      flex-wrap: nowrap;
    }
    .about-promise-title-line1 {
      font-size: 20px;
      font-weight: 700;
      margin: 0;
      white-space: nowrap;
    }
    .about-promise-title-line2 {
      font-size: 20px;
      font-weight: 700;
      margin: 0;
      white-space: nowrap;
    }
    .about-promise-content {
      gap: 40px;
    }
    .about-promise-header {
      grid-template-columns: 1fr;
      gap: 30px;
    }
    .about-promise-left {
      gap: 20px;
    }
    .about-promise-description {
      font-size: 14px;
    }
    .about-promise-timeline {
      overflow-x: auto;
      padding-bottom: 20px;
      padding-top: 57px;
    }
    .about-promise-timeline::before {
      top: 55px;
      width: 120%;
    }
    .about-promise-timeline-dots {
      gap: 0;
      min-width: fit-content;
    }
    .about-promise-timeline-dot {
      margin: 0;
      width: 120px;
      display: flex;
      background: transparent;
      justify-content: center;
      align-items: center;
    }
    .about-promise-timeline-labels {
      gap: 0;
      margin-top: 20px;
      min-width: fit-content;
    }
    .about-promise-timeline-label {
      font-size: 14px;
      width: 120px;
      text-align: center;
      margin: 0;
    }
  }
</style>

<div class="about-promise-section">
  <div class="page-width">
    <div class="about-promise-content">
      <!-- Header with title and description in 2 columns -->
      <div class="about-promise-header">
        <div class="about-promise-left">
          <div class="about-promise-title">
            <div class="about-promise-title-line1">{{ section.settings.title_line1 | default: 'Lời hứa' }}</div>
            <div class="about-promise-title-line2">{{ section.settings.title_line2 | default: 'cho mỗi giấc ngủ ngon' }}</div>
          </div>
        </div>
        
        <div class="about-promise-right">
          <div class="about-promise-description">
            {{ section.settings.description | default: '<p>Ru9 không chỉ bán một sản phẩm mà còn là hành trình xây dựng một cộng đồng nơi mọi người đều được tận hưởng trọn vẹn giá trị của giấc ngủ. Vì sự tin tưởng của bạn không chỉ đến từ chất lượng sản phẩm, mà còn từ sự an tâm tuyệt đối trong suốt quá trình trải nghiệm. Đó là lý do Ru9 mang đến Cam kết 5 sao uy tín:</p>' }}
          </div>
        </div>
      </div>
      
      <!-- Timeline at the bottom -->
      <div class="about-promise-timeline">
        <div class="about-promise-timeline-dots">
          {% for block in section.blocks %}
            <div class="about-promise-timeline-dot">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <circle cx="10" cy="10" r="10" fill="#D9D9D9"/>
              </svg>
            </div>
          {% endfor %}
        </div>
        <div class="about-promise-timeline-labels">
          {% for block in section.blocks %}
            <div class="about-promise-timeline-label">{{ block.settings.title }}</div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "About Promise",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "title_line1",
      "label": "Title Line 1",
      "default": "Lời hứa"
    },
    {
      "type": "text",
      "id": "title_line2",
      "label": "Title Line 2",
      "default": "cho mỗi giấc ngủ ngon"
    },
    {
      "type": "html",
      "id": "description",
      "label": "Description",
      "default": "<p>Ru9 không chỉ bán một sản phẩm mà còn là hành trình xây dựng một cộng đồng nơi mọi người đều được tận hưởng trọn vẹn giá trị của giấc ngủ. Vì sự tin tưởng của bạn không chỉ đến từ chất lượng sản phẩm, mà còn từ sự an tâm tuyệt đối trong suốt quá trình trải nghiệm. Đó là lý do Ru9 mang đến Cam kết 5 sao uy tín:</p>"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "subtitle_color",
      "label": "Subtitle Color",
      "default": "#759CE6"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title Color",
      "default": "#1A2B4D"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "timeline_text_color",
      "label": "Timeline Text Color",
      "default": "#1A2B4D"
    }
  ],
  "blocks": [
    {
      "type": "promise_timeline_item",
      "name": "Timeline Item",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Timeline Label",
          "default": "Chất lượng"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "About Promise",
      "blocks": [
        {
          "type": "promise_timeline_item",
          "settings": {
            "title": "Chất lượng"
          }
        },
        {
          "type": "promise_timeline_item",
          "settings": {
            "title": "Dịch vụ"
          }
        },
        {
          "type": "promise_timeline_item",
          "settings": {
            "title": "Trải nghiệm"
          }
        },
        {
          "type": "promise_timeline_item",
          "settings": {
            "title": "Giá trị"
          }
        },
        {
          "type": "promise_timeline_item",
          "settings": {
            "title": "Bảo hành"
          }
        }
      ]
    }
  ]
}
{% endschema %}
