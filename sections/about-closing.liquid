{%- render 'section_css' -%}

<style>
  /* Desktop styles (default) - 1024px and above */
  .about-closing-section {
    padding: 0;
  }
  .about-closing-container {
    position: relative;
    height: 600px;
    overflow: hidden;
    width: 100%;
  }
  .about-closing-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 1;
  }
  .about-closing-mobile-image {
    object-fit: contain;
  }
  .about-closing-desktop-image {
    display: block;
  }
  .about-closing-mobile-image {
    display: none;
  }
  .about-closing-content-wrapper {
    position: relative;
    z-index: 2;
    height: 100%;
    display: flex;
    align-items: flex-start;
    justify-content: flex-end;
    padding: 60px 60px 60px 0;
  }
  .about-closing-content {
    max-width: 600px;
    text-align: left;
    color: {{ section.settings.text_color | default: '#ffffff' }};
  }
  .about-closing-title {
    font-size: clamp(24px, 3vw, 2.5em);
    font-weight: 700;
    line-height: 1.2;
    margin-bottom: -35px;
    color: {{ section.settings.text_color | default: '#ffffff' }};
  }
  .about-closing-subtitle {
    font-size: clamp(14px, 1.5vw, 1em);
    font-weight: 400;
    line-height: 1.8;
    margin-bottom: 5px;
    color: {{ section.settings.text_color | default: '#ffffff' }};
  }
  .about-closing-footer {
    font-size: clamp(18px, 2vw, 1.2em);
    font-weight: 400;
    font-style: italic;
    margin-top: 10px;
    color: {{ section.settings.text_color | default: '#ffffff' }};
  }

  /* Mobile styles - 768px and below */
  @media (max-width: 768px) {
    .about-closing-container {
      height: 292px;
    }
    .about-closing-image {
      width: 100%;
      height: 100%;
      flex-shrink: 0;
    }
    .about-closing-content-wrapper {
      display: none;
    }
    .about-closing-content {
      max-width: 100%;
      text-align: center;
    }
    .about-closing-desktop-image {
      display: none;
    }
    .about-closing-mobile-image {
      display: block;
    }
    .about-closing-title {
      font-size: 1.8em;
      margin-bottom: 15px;
    }
    .about-closing-subtitle {
      font-size: 0.9em;
      margin-bottom: 15px;
    }
    .about-closing-footer {
      font-size: 1em;
    }
  }
</style>

<div class="about-closing-section">
  <div class="page-width">
    <div class="about-closing-container">
      <!-- Background Image -->
      <img 
      class="about-closing-image about-closing-desktop-image"
      {% if section.settings.desktop_image != blank %}
        src="{{ section.settings.desktop_image | image_url: width: 1920 }}" 
        alt="{{ section.settings.desktop_image.alt | escape }}"
      {% else %}
        src="https://via.placeholder.com/1920x600/3D6DFF/FFFFFF?text=Desktop+Closing" 
        alt="Desktop Closing"
      {% endif %}
      width="1920"
      height="600"
      loading="lazy"
    >
    
    <!-- Mobile Image -->
    <img 
      class="about-closing-image about-closing-mobile-image"
      {% if section.settings.mobile_image != blank %}
        src="{{ section.settings.mobile_image | image_url: width: 390, height: 292 }}" 
        alt="{{ section.settings.mobile_image.alt | escape }}"
      {% else %}
        src="https://via.placeholder.com/390x292/3D6DFF/FFFFFF?text=Mobile+Closing" 
        alt="Mobile Closing"
      {% endif %}
      width="390"
      height="292"
      loading="lazy"
    >
    
    <!-- Content Overlay -->
    <div class="about-closing-content-wrapper">
      <div class="about-closing-content">
        <div class="about-closing-title">{{ section.settings.title | default: 'Sau tất cả, giấc ngủ vẫn là khoảnh khắc đáng quý nhất mỗi ngày' }}</div>
        <div class="about-closing-subtitle">{{ section.settings.subtitle | default: 'Dù bạn ở đâu trong căn phòng nhỏ, giữa phố thị bận rộn hay đang tận hưởng thời gian bên gia đình thì Ru9 luôn mong muốn đồng hành để mỗi ngày của bạn được kết thúc bằng sự dễ chịu, an yên.' }}</div>
        <div class="about-closing-footer">{{ section.settings.footer_text | default: 'Chúc bạn ngủ ngon' }}</div>
      </div>
    </div>
  </div>
</div>
</div>

{% schema %}
{
  "name": "About Closing",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "image_picker",
      "id": "desktop_image",
      "label": "Desktop Closing Image (1920x602px)"
    },
    {
      "type": "image_picker",
      "id": "mobile_image",
      "label": "Mobile Closing Image (768x400px)"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Closing Title",
      "default": "Sau tất cả, giấc ngủ vẫn là khoảnh khắc đáng quý nhất mỗi ngày"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Closing Subtitle",
      "default": "Dù bạn ở đâu trong căn phòng nhỏ, giữa phố thị bận rộn hay đang tận hưởng thời gian bên gia đình thì Ru9 luôn mong muốn đồng hành để mỗi ngày của bạn được kết thúc bằng sự dễ chịu, an yên."
    },
    {
      "type": "text",
      "id": "footer_text",
      "label": "Footer Text",
      "default": "Chúc bạn ngủ ngon"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#ffffff"
    }
  ],
  "presets": [
    {
      "name": "About Closing"
    }
  ]
}
{% endschema %}
