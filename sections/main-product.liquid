{%- liquid
  assign isModal = false
  if template == 'product.modal'
    assign isModal = true
  endif
-%}

{%- render 'product-template',
  product: product,
  section_id: section.id,
  blocks: section.blocks,
  image_position: section.settings.image_position,
  image_container_width: section.settings.image_size,
  product_zoom_enable: section.settings.product_zoom_enable,
  sku_enable: section.settings.sku_enable,
  isModal: isModal,
  product_carousel_enable: section.settings.product_carousel_enable,
  thumbnail_position: section.settings.thumbnail_position,
  thumbnail_height: section.settings.thumbnail_height,
  thumbnail_arrows: section.settings.thumbnail_arrows,
  mobile_layout: section.settings.mobile_layout,
  video_looping: section.settings.enable_video_looping,
  video_style: section.settings.product_video_style,
  enable_sticky_add_to_cart: section.settings.enable_sticky_add_to_cart,
  hide_payment_button_mobile: section.settings.hide_payment_button_mobile,
  context: 'main-product'
-%}

{% schema %}
{
  "name": "t:sections.main-product.name",
  "settings": [
    {
      "type": "select",
      "id": "section_width",
      "options": [
        {
          "value": "full-width",
          "label": "t:sections.all.section_width.options__1"
        },
        {
          "value": "page-width",
          "label": "t:sections.all.section_width.options__2"
        },
        {
          "value": "customize_width",
          "label": "t:sections.all.section_width.options__3"
        }
      ],
      "default": "page-width",
      "label": "t:sections.all.section_width.label"
    },
    {
      "type": "range",
      "id": "customize_width",
      "min": 1000,
      "max": 1800,
      "step": 10,
      "default": 1800,
      "unit": "px",
      "label": "t:sections.all.customize_width.label"
    },
    {
      "type": "checkbox",
      "id": "enable_sticky_add_to_cart",
      "label": "t:sections.main-product.settings.enable_sticky_navigation",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "hide_payment_button_mobile",
      "label": "Ẩn nút thanh toán trên mobile",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "sku_enable",
      "label": "t:sections.main-product.settings.sku_enable.label"
    },
    {
      "type": "text",
      "id": "product_subtitle",
      "label": "Phụ đề sản phẩm",
      "info": "Hiển thị bên dưới tiêu đề chính của sản phẩm."
    },
    {
      "type": "text",
      "id": "custom_text",
      "label": "Custom text"
    },
    {
      "type": "header",
      "content": "t:sections.main-product.settings.header_media"
    },
    {
      "type": "paragraph",
      "content": "t:sections.main-product.settings.content"
    },
    {
      "type": "select",
      "id": "image_position",
      "label": "t:sections.main-product.settings.image_position.label",
      "default": "left",
      "options": [
        {
          "value": "left",
          "label": "t:sections.main-product.settings.image_position.options.left.label"
        },
        {
          "value": "right",
          "label": "t:sections.main-product.settings.image_position.options.right.label"
        }
      ]
    },
    {
      "type": "select",
      "id": "image_size",
      "label": "t:sections.main-product.settings.image_size.label",
      "default": "medium",
      "options": [
        {
          "value": "small",
          "label": "t:sections.main-product.settings.image_size.options.small.label"
        },
        {
          "value": "medium",
          "label": "t:sections.main-product.settings.image_size.options.medium.label"
        },
        {
          "value": "large",
          "label": "t:sections.main-product.settings.image_size.options.large.label"
        }
      ]
    },
    {
      "type": "checkbox",
      "id": "product_zoom_enable",
      "label": "t:sections.main-product.settings.product_zoom_enable.label",
      "info": "Does not work on desktop if the carousel layout is disabled.",
      "default": true
    },
    {
      "type": "header",
      "content": "t:sections.all.carousel.header.content"
    },
    {
      "type": "checkbox",
      "id": "product_carousel_enable",
      "label": "t:sections.all.carousel.header.label__1",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "limit_product_carousel",
      "label": "Enable limit image",
      "default": true
    },
    {
      "type": "header",
      "content": "t:sections.featured-product.settings.thumbnail.header.content"
    },
    {
      "type": "select",
      "id": "thumbnail_position",
      "label": "t:sections.main-product.settings.thumbnail_position.label",
      "default": "beside",
      "options": [
        {
          "value": "beside",
          "label": "t:sections.main-product.settings.thumbnail_position.options.beside.label"
        },
        {
          "value": "below",
          "label": "t:sections.main-product.settings.thumbnail_position.options.below.label"
        }
      ]
    },
    {
      "type": "select",
      "id": "thumbnail_height",
      "label": "t:sections.main-product.settings.thumbnail_height.label",
      "info": "t:sections.main-product.settings.thumbnail_height.info",
      "default": "flexible",
      "options": [
        {
          "value": "fixed",
          "label": "t:sections.main-product.settings.thumbnail_height.options.fixed.label"
        },
        {
          "value": "flexible",
          "label": "t:sections.main-product.settings.thumbnail_height.options.flexible.label"
        }
      ]
    },
    {
      "type": "checkbox",
      "id": "thumbnail_arrows",
      "label": "t:sections.main-product.settings.thumbnail_arrows.label"
    },
    {
      "type": "select",
      "id": "mobile_layout",
      "label": "t:sections.main-product.settings.mobile_layout.label",
      "default": "partial",
      "options": [
        {
          "value": "partial",
          "label": "t:sections.main-product.settings.mobile_layout.options.partial.label"
        },
        {
          "value": "full",
          "label": "t:sections.main-product.settings.mobile_layout.options.full.label"
        }
      ]
    },
    {
      "type": "checkbox",
      "id": "enable_video_looping",
      "label": "t:sections.main-product.settings.enable_video_looping.label",
      "default": true
    },
    {
      "type": "select",
      "id": "product_video_style",
      "label": "t:sections.main-product.settings.product_video_style.label",
      "default": "muted",
      "options": [
        {
          "value": "muted",
          "label": "t:sections.main-product.settings.product_video_style.options.muted.label"
        },
        {
          "value": "unmuted",
          "label": "t:sections.main-product.settings.product_video_style.options.unmuted.label"
        }
      ],
      "info": "t:sections.main-product.settings.product_video_style.info"
    }
  ],
  "blocks": [
    {
      "type": "tag",
      "name": "Product Tag",
      "limit": 3,
      "settings": [
        {
          "type": "text",
          "id": "tag_text",
          "label": "Tag Text",
          "default": "Top rated"
        },
        {
          "type": "color",
          "id": "bg_color",
          "label": "Background Color",
          "default": "#85AFEE"
        },
        {
           "type": "color",
           "id": "text_color",
           "label": "Text Color",
           "default": "#FFFFFF"
        }
      ]
    },
    {
      "type": "size_guide_dropdown",
      "name": "Hướng dẫn chọn kích thước",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Tiêu đề",
          "default": "Hướng dẫn chọn kích thước"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Hình ảnh hướng dẫn"
        }
      ]
    },
    {
      "type": "@app"
    },
    {
      "type": "promotion",
      "name": "Mã ưu đãi",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Tiêu đề",
          "default": "Mã ưu đãi"
        },
        {
          "type": "header",
          "content": "Voucher 1"
        },
        {
          "type": "image_picker",
          "id": "voucher_image_1",
          "label": "Hình ảnh đại diện voucher"
        },
        {
          "type": "image_picker",
          "id": "popup_bg_1",
          "label": "Hình nền popup"
        },
        {
          "type": "richtext",
          "id": "popup_content_1",
          "label": "Nội dung popup"
        },
        {
          "type": "header",
          "content": "Voucher 2"
        },
        {
          "type": "image_picker",
          "id": "voucher_image_2",
          "label": "Hình ảnh đại diện voucher"
        },
        {
          "type": "image_picker",
          "id": "popup_bg_2",
          "label": "Hình nền popup"
        },
        {
          "type": "richtext",
          "id": "popup_content_2",
          "label": "Nội dung popup"
        },
        {
          "type": "header",
          "content": "Voucher 3"
        },
        {
          "type": "image_picker",
          "id": "voucher_image_3",
          "label": "Hình ảnh đại diện voucher"
        },
        {
          "type": "image_picker",
          "id": "popup_bg_3",
          "label": "Hình nền popup"
        },
        {
          "type": "richtext",
          "id": "popup_content_3",
          "label": "Nội dung popup"
        },
        {
          "type": "header",
          "content": "Voucher 4"
        },
        {
          "type": "image_picker",
          "id": "voucher_image_4",
          "label": "Hình ảnh đại diện voucher"
        },
        {
          "type": "image_picker",
          "id": "popup_bg_4",
          "label": "Hình nền popup"
        },
        {
          "type": "richtext",
          "id": "popup_content_4",
          "label": "Nội dung popup"
        }
      ]
    },
    {
      "type": "icon_with_text",
      "name": "t:product_block.icon_with_text.name",
      "limit": 1,
      "settings": [
        {
          "type": "select",
          "id": "icon_1",
          "label": "t:common.text_with_icons.blocks.column.settings.icon.label",
          "default": "chat",
          "options": [
            {
              "value": "bills",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.bills.label"
            },
            {
              "value": "calendar",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.calendar.label"
            },
            {
              "value": "cart",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.cart.label"
            },
            {
              "value": "charity",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.charity.label"
            },
            {
              "value": "chat",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.chat.label"
            },
            {
              "value": "envelope",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.envelope.label"
            },
            {
              "value": "gears",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.gears.label"
            },
            {
              "value": "gift",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.gift.label"
            },
            {
              "value": "globe",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.globe.label"
            },
            {
              "value": "package",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.package.label"
            },
            {
              "value": "phone",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.phone.label"
            },
            {
              "value": "plant",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.plant.label"
            },
            {
              "value": "recycle",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.recycle.label"
            },
            {
              "value": "ribbon",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.ribbon.label"
            },
            {
              "value": "sales-tag",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.sales-tag.label"
            },
            {
              "value": "shield",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.shield.label"
            },
            {
              "value": "stopwatch",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.stopwatch.label"
            },
            {
              "value": "store",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.store.label"
            },
            {
              "value": "thumbs-up",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.thumbs-up.label"
            },
            {
              "value": "trophy",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.trophy.label"
            },
            {
              "value": "truck",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.truck.label"
            },
            {
              "value": "wallet",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.wallet.label"
            }
          ]
        },
        {
          "type": "image_picker",
          "id": "image_icon_1",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "title_1",
          "label": "t:common.text_with_icons.blocks.column.settings.title.label",
          "default": "Example title"
        },
        {
          "type": "select",
          "id": "icon_2",
          "label": "t:common.text_with_icons.blocks.column.settings.icon.label",
          "default": "chat",
          "options": [
            {
              "value": "bills",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.bills.label"
            },
            {
              "value": "calendar",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.calendar.label"
            },
            {
              "value": "cart",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.cart.label"
            },
            {
              "value": "charity",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.charity.label"
            },
            {
              "value": "chat",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.chat.label"
            },
            {
              "value": "envelope",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.envelope.label"
            },
            {
              "value": "gears",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.gears.label"
            },
            {
              "value": "gift",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.gift.label"
            },
            {
              "value": "globe",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.globe.label"
            },
            {
              "value": "package",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.package.label"
            },
            {
              "value": "phone",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.phone.label"
            },
            {
              "value": "plant",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.plant.label"
            },
            {
              "value": "recycle",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.recycle.label"
            },
            {
              "value": "ribbon",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.ribbon.label"
            },
            {
              "value": "sales-tag",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.sales-tag.label"
            },
            {
              "value": "shield",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.shield.label"
            },
            {
              "value": "stopwatch",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.stopwatch.label"
            },
            {
              "value": "store",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.store.label"
            },
            {
              "value": "thumbs-up",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.thumbs-up.label"
            },
            {
              "value": "trophy",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.trophy.label"
            },
            {
              "value": "truck",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.truck.label"
            },
            {
              "value": "wallet",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.wallet.label"
            }
          ]
        },
        {
          "type": "image_picker",
          "id": "image_icon_2",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "title_2",
          "label": "t:common.text_with_icons.blocks.column.settings.title.label",
          "default": "Example title"
        },
        {
          "type": "select",
          "id": "icon_3",
          "label": "t:common.text_with_icons.blocks.column.settings.icon.label",
          "default": "chat",
          "options": [
            {
              "value": "bills",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.bills.label"
            },
            {
              "value": "calendar",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.calendar.label"
            },
            {
              "value": "cart",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.cart.label"
            },
            {
              "value": "charity",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.charity.label"
            },
            {
              "value": "chat",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.chat.label"
            },
            {
              "value": "envelope",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.envelope.label"
            },
            {
              "value": "gears",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.gears.label"
            },
            {
              "value": "gift",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.gift.label"
            },
            {
              "value": "globe",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.globe.label"
            },
            {
              "value": "package",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.package.label"
            },
            {
              "value": "phone",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.phone.label"
            },
            {
              "value": "plant",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.plant.label"
            },
            {
              "value": "recycle",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.recycle.label"
            },
            {
              "value": "ribbon",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.ribbon.label"
            },
            {
              "value": "sales-tag",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.sales-tag.label"
            },
            {
              "value": "shield",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.shield.label"
            },
            {
              "value": "stopwatch",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.stopwatch.label"
            },
            {
              "value": "store",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.store.label"
            },
            {
              "value": "thumbs-up",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.thumbs-up.label"
            },
            {
              "value": "trophy",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.trophy.label"
            },
            {
              "value": "truck",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.truck.label"
            },
            {
              "value": "wallet",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.wallet.label"
            }
          ]
        },
        {
          "type": "image_picker",
          "id": "image_icon_3",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "title_3",
          "label": "t:common.text_with_icons.blocks.column.settings.title.label",
          "default": "Example title"
        },
        {
          "type": "select",
          "id": "icon_4",
          "label": "t:common.text_with_icons.blocks.column.settings.icon.label",
          "default": "chat",
          "options": [
            {
              "value": "bills",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.bills.label"
            },
            {
              "value": "calendar",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.calendar.label"
            },
            {
              "value": "cart",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.cart.label"
            },
            {
              "value": "charity",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.charity.label"
            },
            {
              "value": "chat",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.chat.label"
            },
            {
              "value": "envelope",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.envelope.label"
            },
            {
              "value": "gears",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.gears.label"
            },
            {
              "value": "gift",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.gift.label"
            },
            {
              "value": "globe",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.globe.label"
            },
            {
              "value": "package",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.package.label"
            },
            {
              "value": "phone",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.phone.label"
            },
            {
              "value": "plant",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.plant.label"
            },
            {
              "value": "recycle",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.recycle.label"
            },
            {
              "value": "ribbon",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.ribbon.label"
            },
            {
              "value": "sales-tag",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.sales-tag.label"
            },
            {
              "value": "shield",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.shield.label"
            },
            {
              "value": "stopwatch",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.stopwatch.label"
            },
            {
              "value": "store",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.store.label"
            },
            {
              "value": "thumbs-up",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.thumbs-up.label"
            },
            {
              "value": "trophy",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.trophy.label"
            },
            {
              "value": "truck",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.truck.label"
            },
            {
              "value": "wallet",
              "label": "t:common.text_with_icons.blocks.column.settings.icon.options.wallet.label"
            }
          ]
        },
        {
          "type": "image_picker",
          "id": "image_icon_4",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "title_4",
          "label": "t:common.text_with_icons.blocks.column.settings.title.label",
          "default": "Example title"
        }
      ]
    },
    {
      "type": "price",
      "name": "t:product_block.price.name",
      "limit": 1
    },
    {
      "type": "carousel_modal",
      "name": "t:product_block.carousel_modal.name",
      "limit": 1,
      "settings": []
    },
    {
      "type": "quantity_selector",
      "name": "t:product_block.quantity_selector.name",
      "limit": 1
    },
    {
      "type": "complementary_products",
      "name": "Complementary products",
      "limit": 1,
      "settings": [
        {
          "type": "paragraph",
          "content": "t:sections.product-complementary.settings.paragraph.content"
        },
        {
          "type": "text",
          "id": "product_complementary_heading",
          "label": "t:sections.product-complementary.settings.product_complementary_heading.label",
          "default": "Pairs well with"
        },
        {
          "type": "range",
          "id": "complementary_count",
          "label": "t:sections.product-complementary.settings.complementary_count.label",
          "default": 4,
          "min": 2,
          "max": 10,
          "step": 1
        },
        {
          "type": "range",
          "id": "per_slide",
          "label": "t:sections.product-complementary.settings.per_slide.label",
          "default": 1,
          "min": 1,
          "max": 4,
          "step": 1
        },
        {
          "type": "select",
          "id": "control_type",
          "label": "t:sections.product-complementary.settings.control_type.label",
          "options": [
            {
              "value": "dots",
              "label": "t:sections.product-complementary.settings.control_type.options.dots.label"
            },
            {
              "value": "arrows",
              "label": "t:sections.product-complementary.settings.control_type.options.arrows.label"
            }
          ],
          "default": "dots"
        },
        {
          "type": "header",
          "content": "t:sections.product-complementary.settings.header.content"
        },
        {
          "type": "select",
          "id": "image_style",
          "label": "t:sections.product-complementary.settings.image_style.label",
          "options": [
            {
              "value": "default",
              "label": "t:sections.product-complementary.settings.image_style.options.default.label"
            },
            {
              "value": "circle",
              "label": "t:sections.product-complementary.settings.image_style.options.circle.label"
            }
          ],
          "default": "default"
        }
      ]
    },
    {
      "type": "size_chart",
      "name": "t:product_block.size_chart.name",
      "limit": 1,
      "settings": [
        {
          "type": "page",
          "id": "size_chart",
          "label": "t:product_block.size_chart.settings.page.label"
        }
      ]
    },
    {
      "type": "variant_picker",
      "name": "Variant picker",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "variant_labels",
          "label": "t:product_block.variant_picker.settings.variant_labels.label",
          "default": true
        },
        {
          "type": "select",
          "id": "picker_type",
          "label": "t:product_block.variant_picker.settings.picker_type.label",
          "options": [
            {
              "value": "button",
              "label": "t:product_block.variant_picker.settings.picker_type.options.button.label"
            },
            {
              "value": "dropdown",
              "label": "t:product_block.variant_picker.settings.picker_type.options.dropdown.label"
            }
          ],
          "default": "button"
        },
        {
          "type": "checkbox",
          "id": "product_dynamic_variants_enable",
          "label": "t:product_block.variant_picker.settings.product_dynamic_variants_enable.label",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "color_swatches",
          "label": "Enable color swatches",
          "info": "Requires type to be set to 'Buttons'. [Learn how to set up swatches](https://archetypethemes.co/blogs/impulse/how-do-i-set-up-color-swatches)"
        }
      ]
    },
    {
      "type": "description",
      "name": "t:product_block.description.name",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "is_tab",
          "label": "t:product_block.description.settings.is_tab.label"
        },
        {
          "type": "checkbox",
          "id": "collapse_content",
          "label": "t:product_block.description.settings.collapse_content.label"
        }
      ]
    },
    {
      "type": "showroom_dropdown",
      "name": "Hệ thống cửa hàng",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Tiêu đề",
          "default": "Hệ thống cửa hàng"
        },
        {
          "type": "header",
          "content": "Showroom 1"
        },
        {
          "type": "text",
          "id": "showroom_1_name",
          "label": "Tên Showroom 1",
          "default": "Showroom 1"
        },
        {
          "type": "richtext",
          "id": "showroom_1_address",
          "label": "Địa chỉ 1"
        },
        {
          "type": "text",
          "id": "showroom_1_phone",
          "label": "Số điện thoại 1",
          "default": "0964777910"
        },
        {
          "type": "url",
          "id": "showroom_1_map_link",
          "label": "Link Google Maps 1"
        },
        {
          "type": "header",
          "content": "Showroom 2"
        },
        {
          "type": "text",
          "id": "showroom_2_name",
          "label": "Tên Showroom 2",
          "default": "Showroom 2"
        },
        {
          "type": "richtext",
          "id": "showroom_2_address",
          "label": "Địa chỉ 2"
        },
        {
          "type": "text",
          "id": "showroom_2_phone",
          "label": "Số điện thoại 2",
          "default": "0964777910"
        },
        {
          "type": "url",
          "id": "showroom_2_map_link",
          "label": "Link Google Maps 2"
        },
        {
          "type": "header",
          "content": "Showroom 3"
        },
        {
          "type": "text",
          "id": "showroom_3_name",
          "label": "Tên Showroom 3",
          "default": "Showroom 3"
        },
        {
          "type": "richtext",
          "id": "showroom_3_address",
          "label": "Địa chỉ 3"
        },
        {
          "type": "text",
          "id": "showroom_3_phone",
          "label": "Số điện thoại 3",
          "default": "0964777940"
        },
        {
          "type": "url",
          "id": "showroom_3_map_link",
          "label": "Link Google Maps 3"
        }
      ]
    },
    {
      "type": "buy_buttons",
      "name": "t:product_block.buy_buttons.name",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "show_dynamic_checkout",
          "label": "t:product_block.buy_buttons.settings.show_dynamic_checkout.label",
          "info": "t:product_block.buy_buttons.settings.show_dynamic_checkout.info",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "surface_pickup_enable",
          "label": "t:product_block.buy_buttons.settings.surface_pickup_enable.label",
          "info": "t:product_block.buy_buttons.settings.surface_pickup_enable.info",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "show_gift_card_recipient",
          "default": false,
          "label": "t:common.gift_card.show_gift_card_recipient.label",
          "info": "t:common.gift_card.show_gift_card_recipient.info"
        }
      ]
    },
    {
      "type": "inventory_status",
      "name": "t:product_block.inventory_status.name",
      "limit": 1,
      "settings": [
        {
          "type": "range",
          "id": "inventory_threshold",
          "label": "t:product_block.inventory_status.settings.inventory_threshold.label",
          "default": 10,
          "min": 0,
          "max": 20,
          "step": 2
        },
        {
          "type": "checkbox",
          "id": "inventory_transfers_enable",
          "label": "t:product_block.inventory_status.settings.inventory_transfers_enable.label",
          "info": "t:product_block.inventory_status.settings.inventory_transfers_enable.info",
          "default": true
        }
      ]
    },
    {
      "type": "sales_point",
      "name": "t:product_block.sales_point.name",
      "settings": [
        {
          "type": "select",
          "id": "icon",
          "label": "t:product_block.sales_point.settings.icon.label",
          "default": "globe",
          "options": [
            {
              "value": "checkmark",
              "label": "t:product_block.sales_point.settings.icon.options.checkmark.label"
            },
            {
              "value": "gift",
              "label": "t:product_block.sales_point.settings.icon.options.gift.label"
            },
            {
              "value": "globe",
              "label": "t:product_block.sales_point.settings.icon.options.globe.label"
            },
            {
              "value": "heart",
              "label": "t:product_block.sales_point.settings.icon.options.heart.label"
            },
            {
              "value": "leaf",
              "label": "t:product_block.sales_point.settings.icon.options.leaf.label"
            },
            {
              "value": "lock",
              "label": "t:product_block.sales_point.settings.icon.options.lock.label"
            },
            {
              "value": "package",
              "label": "t:product_block.sales_point.settings.icon.options.package.label"
            },
            {
              "value": "phone",
              "label": "t:product_block.sales_point.settings.icon.options.phone.label"
            },
            {
              "value": "ribbon",
              "label": "t:product_block.sales_point.settings.icon.options.ribbon.label"
            },
            {
              "value": "shield",
              "label": "t:product_block.sales_point.settings.icon.options.shield.label"
            },
            {
              "value": "tag",
              "label": "t:product_block.sales_point.settings.icon.options.tag.label"
            },
            {
              "value": "truck",
              "label": "t:product_block.sales_point.settings.icon.options.truck.label"
            }
          ]
        },
        {
          "type": "text",
          "id": "text",
          "label": "t:product_block.sales_point.settings.text.label",
          "default": "Free worldwide shipping"
        }
      ]
    },
    {
      "type": "text",
      "name": "t:product_block.text.name",
      "settings": [
        {
          "type": "text",
          "id": "text",
          "default": "Text block",
          "label": "t:product_block.text.settings.text.label"
        }
      ]
    },
    {
      "type": "trust_badge",
      "name": "t:product_block.trust_badge.name",
      "settings": [
        {
          "type": "image_picker",
          "id": "trust_image",
          "label": "t:product_block.trust_badge.settings.trust_image.label"
        }
      ]
    },

    {
      "type": "service_carousel",
      "name": "Dịch vụ (Trình chiếu)",
      "limit": 1,
      "settings": [
        {
          "type": "header",
          "content": "Cài đặt trình chiếu"
        },
        {
          "type": "checkbox",
          "id": "autoplay",
          "label": "Tự động chuyển",
          "default": true
        },
        {
          "type": "range",
          "id": "delay",
          "label": "Thời gian chờ (giây)",
          "min": 2,
          "max": 10,
          "step": 1,
          "default": 5,
          "unit": "s"
        },
        {
          "type": "header",
          "content": "Dịch vụ 1"
        },
        {
          "type": "image_picker",
          "id": "icon_1",
          "label": "Icon 1"
        },
        {
          "type": "text",
          "id": "text_1",
          "label": "Text 1",
          "default": "100 đêm ngủ thử"
        },
        {
          "type": "header",
          "content": "Dịch vụ 2"
        },
        {
          "type": "image_picker",
          "id": "icon_2",
          "label": "Icon 2"
        },
        {
          "type": "text",
          "id": "text_2",
          "label": "Text 2"
        },
        {
          "type": "header",
          "content": "Dịch vụ 3"
        },
        {
          "type": "image_picker",
          "id": "icon_3",
          "label": "Icon 3"
        },
        {
          "type": "text",
          "id": "text_3",
          "label": "Text 3"
        },
        {
          "type": "header",
          "content": "Dịch vụ 4"
        },
        {
          "type": "image_picker",
          "id": "icon_4",
          "label": "Icon 4"
        },
        {
          "type": "text",
          "id": "text_4",
          "label": "Text 4"
        }
      ]
    },
    {
      "type": "service_grid",
      "name": "Dịch vụ (Lưới)",
      "limit": 1,
      "settings": [
        {
          "type": "header",
          "content": "Dịch vụ 1"
        },
        {
          "type": "image_picker",
          "id": "icon_1",
          "label": "Icon 1"
        },
        {
          "type": "text",
          "id": "text_1",
          "label": "Text 1",
          "default": "100 đêm ngủ thử"
        },
        {
          "type": "checkbox",
          "id": "show_service_1",
          "label": "Hiển thị dịch vụ 1",
          "default": true
        },
        {
          "type": "header",
          "content": "Dịch vụ 2"
        },
        {
          "type": "image_picker",
          "id": "icon_2",
          "label": "Icon 2"
        },
        {
          "type": "text",
          "id": "text_2",
          "label": "Text 2",
          "default": "Miễn phí vận chuyển"
        },
        {
          "type": "checkbox",
          "id": "show_service_2",
          "label": "Hiển thị dịch vụ 2",
          "default": true
        },
        {
          "type": "header",
          "content": "Dịch vụ 3"
        },
        {
          "type": "image_picker",
          "id": "icon_3",
          "label": "Icon 3"
        },
        {
          "type": "text",
          "id": "text_3",
          "label": "Text 3",
          "default": "Bảo hành dài lâu"
        },
        {
          "type": "checkbox",
          "id": "show_service_3",
          "label": "Hiển thị dịch vụ 3",
          "default": true
        },
        {
          "type": "header",
          "content": "Dịch vụ 4"
        },
        {
          "type": "image_picker",
          "id": "icon_4",
          "label": "Icon 4"
        },
        {
          "type": "text",
          "id": "text_4",
          "label": "Text 4",
          "default": "Thanh toán linh hoạt"
        },
        {
          "type": "checkbox",
          "id": "show_service_4",
          "label": "Hiển thị dịch vụ 4",
          "default": true
        }
      ]
    },
    {
      "type": "productbundle",
      "name": "Product cross sell",
      "limit": 1,
      "settings": [
        {
          "type": "product_list",
          "id": "product_list",
          "label": "Products",
          "limit": 12
        },
        {
          "type": "text",
          "id": "cross_sell_title",
          "label": "Title"
        },
        {
          "type": "text",
          "id": "cross_sell_label",
          "label": "Label"
        }
      ]
    },
    {
      "type": "tab",
      "name": "t:product_block.tab.name",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "t:product_block.tab.settings.title.label",
          "default": "Shipping information"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Hình ảnh"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "t:product_block.tab.settings.content.label",
          "default": "<p>Use collapsible tabs for more detailed information that will help customers make a purchasing decision.</p><p>Ex: Shipping and return policies, size guides, and other common questions.</p>"
        },
        {
          "type": "page",
          "id": "page",
          "label": "t:product_block.tab.settings.page.label"
        }
      ]
    },
    {
      "type": "usage_guide",
      "name": "Hướng dẫn sử dụng",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Tiêu đề",
          "default": "Hướng dẫn sử dụng"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Hình ảnh"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Nội dung",
          "default": "<p>Thêm nội dung hướng dẫn sử dụng vào đây.</p>"
        }
      ]
    },
    {
      "type": "share",
      "name": "t:product_block.share_on_social.name",
      "limit": 1,
      "settings": [
        {
          "type": "paragraph",
          "content": "t:product_block.share_on_social.settings.content"
        }
      ]
    },
    {
      "type": "separator",
      "name": "t:product_block.separator.name"
    },
    {
      "type": "contact",
      "name": "t:product_block.contact_form.name",
      "limit": 1,
      "settings": [
        {
          "type": "paragraph",
          "content": "t:product_block.contact_form.settings.content"
        },
        {
          "type": "text",
          "id": "title",
          "label": "t:product_block.contact_form.settings.title.label",
          "default": "Ask a question"
        },
        {
          "type": "checkbox",
          "id": "phone",
          "label": "t:product_block.contact_form.settings.phone.label"
        }
      ]
    },
    {
      "type": "custom",
      "name": "t:product_block.html.name",
      "settings": [
        {
          "type": "liquid",
          "id": "code",
          "label": "t:product_block.html.settings.code.label",
          "default": "<h4>Custom code block</h4><p>Use this advanced section to add custom HTML, app scripts, or liquid.</p>",
          "info": "t:product_block.html.settings.code.info"
        }
      ]
    }
  ]
}
{% endschema %}

<script>
document.addEventListener('shopify:section:load', function() {
  const isCarouselDisabled = {{ section.settings.product_carousel_enable | json }} === false;
  if (isCarouselDisabled) {
    const productImagesContainer = document.querySelector('#ProductSection-{{ section_id }} [data-product-images]');
    if (productImagesContainer && typeof theme.Photoswipe !== 'undefined' && !productImagesContainer.photoswipe) {
      productImagesContainer.photoswipe = new theme.Photoswipe(productImagesContainer, '{{ section_id }}');
    }
  }
});

// Fallback for initial page load
document.addEventListener('DOMContentLoaded', function() {
  // A short delay to ensure theme scripts have loaded
  setTimeout(function() {
    const isCarouselDisabled = {{ section.settings.product_carousel_enable | json }} === false;
    if (isCarouselDisabled) {
      const productImagesContainer = document.querySelector('#ProductSection-{{ section_id }} [data-product-images]');
      if (productImagesContainer && typeof theme.Photoswipe !== 'undefined' && !productImagesContainer.photoswipe) {
        productImagesContainer.photoswipe = new theme.Photoswipe(productImagesContainer, '{{ section_id }}');
      }
    }
  }, 500);
});
</script>
