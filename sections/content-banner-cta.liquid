{%- render 'section_css' -%}

<style>
  .content-banner-cta-section .page-width {
    max-width: none;
    padding: 0;
  }
  .content-banner-cta-section {
    padding: 60px 0;
    font-family: "Be Vietnam Pro", sans-serif;
  }
  .content-banner-cta-main-title-wrapper {
    text-align: center;
    margin-bottom: 40px;
  }
  .content-banner-cta-main-title {
    font-family: 'Be Vietnam Pro', sans-serif !important;
    line-height: {{ section.settings.main_title_line_height }};
    color: {{ section.settings.main_title_color }};
  }
  .content-banner-cta-container {
    position: relative;
    height: 500px;
    border-radius: 15px;
    overflow: hidden;
    flex-shrink: 0;
  }
  .content-banner-cta-content {
    position: relative;
    z-index: 2;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    background: transparent;
  }
  .content-banner-cta-text-wrapper {
    display: contents;
  }
  .content-banner-cta-subtitle {
    font-weight: 700;
    color: #1C2C58;
    margin: 0 0 20px;
    line-height: 1.4;
  }
  .content-banner-cta-subtitle p {
    margin: 0px;
  }
  .content-banner-cta-secondary-title {
    font-weight: 700;
    color: #1C2C58;
    margin: 0 0 20px;
  }
  .content-banner-cta-description {
    line-height: 1.6;
    color: #333;
    margin-bottom: 30px;
  }
  .content-banner-cta-description p {
    margin: 0;
  }
  .content-banner-cta-button {
    display: inline-block;
    background-color: #234085;
    margin-top: 50px;
    color: #fff;
    padding: 12px 30px;
    border-radius: 100px;
    text-decoration: none;
    font-weight: 700;
    font-size: 16px;
    transition: background-color 0.3s;
    align-self: flex-start;
  }
  .content-banner-cta-button:hover {
    background-color: #2b4282;
  }
  .content-banner-cta-background-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 1;
  }

  /* Mobile image display */
  @media (max-width: 768px) {
    .content-banner-cta-background-image.medium-up--hide {
      display: block !important;
    }
    .content-banner-cta-background-image.small--hide {
      display: none !important;
    }
  }

  /* Desktop image display */
  @media (min-width: 769px) {
    .content-banner-cta-background-image.medium-up--hide {
      display: none !important;
    }
    .content-banner-cta-background-image.small--hide {
      display: block !important;
    }
  }

  /* Desktop screens - 769px and above */
  @media (min-width: 769px) {
    .content-banner-cta-container {
      margin: 0 60px;
      height: 500px;
    }
    .content-banner-cta-content {
      width: 60%;
      padding: 0 60px;
      background: transparent;
    }
    .content-banner-cta-main-title {
      font-size: 39px;
    }
    .content-banner-cta-subtitle {
      font-size: 22px;
    }
    .content-banner-cta-secondary-title {
      font-size: 22px;
    }
    .content-banner-cta-description {
      font-size: 16px;
    }
  }

  /* Small screens - 768px and below */
  @media (max-width: 768px) {
    .content-banner-cta-main-title-wrapper {
      margin-left: 15px;
      margin-right: 15px;
    }
    .content-banner-cta-container {
      margin: 0 15px;
      width: calc(100% - 30px);
      height: 250px;
    }
    .content-banner-cta-content {
      width: 100%;
      padding: 15px;
      background: transparent;
    }
    
    .content-banner-cta-main-title {
      font-size: 24px !important;
      margin-left: 15px;
      margin-right: 15px;
    }
    
    .content-banner-cta-subtitle {
      font-size: 16px !important;
      max-width: 148px;
    }
    
    .content-banner-cta-secondary-title {
      max-width: 148px;
    }
    
    .content-banner-cta-description {
      font-size: 14px !important;
    }
    
    .content-banner-cta-button {
      margin-top: 0px !important;
    }
  }
  
  /* Extra small screens - 480px and below */
  @media (max-width: 480px) {
    .content-banner-cta-section {
      padding: 20px 0;
    }
    .content-banner-cta-container {
      margin: 0 15px;
      width: calc(100% - 30px);
      height: 200px;
    }
    .content-banner-cta-content {
      padding: 15px;
      text-align: left;
      align-items: flex-start;
      justify-content: space-between;
    }
    .content-banner-cta-button {
      align-self: flex-start;
      width: auto;
      height: auto;
      padding: 8px 18px;
      font-size: 12px;
      margin-top: 0px;
    }
    .content-banner-cta-main-title {
      font-size: 20px !important;
      text-align: center;
      margin: 0 auto;
    }
    .content-banner-cta-subtitle,
    .content-banner-cta-secondary-title {
      font-size: 14px !important;
      font-weight: 600;
      line-height: 1.4;
      color: #1C2C58;
      margin-bottom: 10px;
      text-align: left;
      max-width: 148px;
    }
  }

</style>

<div class="content-banner-cta-section" style="background-color: {{ section.settings.background_color }};">
  <div class="page-width">
    <div class="content-banner-cta-main-title-wrapper">
        <h2 class="content-banner-cta-main-title">{{ section.settings.main_title | escape }}</h2>
    </div>
    <div class="content-banner-cta-container">
      {%- liquid
        assign has_mobile_image = false
        if section.settings.image_mobile != blank
          assign has_mobile_image = true
        endif
      -%}

      {%- if section.settings.image != blank -%}
        <img
          src="{{ section.settings.image | image_url: width: 1600 }}"
          alt="{{ section.settings.image.alt | escape }}"
          class="content-banner-cta-background-image{% if has_mobile_image %} small--hide{% endif %}"
          width="{{ section.settings.image.width }}"
          height="{{ section.settings.image.height }}"
          loading="lazy"
        >
      {%- elsif has_mobile_image == false -%}
        {{ 'lifestyle-1' | placeholder_svg_tag: 'placeholder-svg content-banner-cta-background-image' }}
      {%- endif -%}
      
      {%- if has_mobile_image -%}
        <img
          src="{{ section.settings.image_mobile | image_url: width: 750 }}"
          alt="{{ section.settings.image_mobile.alt | escape }}"
          class="content-banner-cta-background-image medium-up--hide"
          width="{{ section.settings.image_mobile.width }}"
          height="{{ section.settings.image_mobile.height }}"
          loading="lazy"
        >
      {%- endif -%}
      <div class="content-banner-cta-content">
        <div class="content-banner-cta-text-wrapper">
          <div class="content-banner-cta-subtitle">{{ section.settings.subtitle }}</div>
          <h4 class="content-banner-cta-secondary-title">{{ section.settings.secondary_title | escape }}</h4>
        </div>
        <div class="content-banner-cta-description">{{ section.settings.description }}</div>
        {%- if section.settings.button_text != blank -%}
            <a href="{{ section.settings.button_link }}" class="content-banner-cta-button">
                {{ section.settings.button_text | escape }}
            </a>
        {%- endif -%}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Content Banner CTA",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "main_title",
      "label": "Main Title",
      "default": "Mọi điều tuyệt vời đều bắt đầu từ một giấc ngủ ngon"
    },
    {
      "type": "richtext",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "<p>Với hơn 3,240 giờ nghiên cứu để bạn chỉ việc nghỉ ngơi, chẳng cần nghĩ ngợi.</p>"
    },
    {
      "type": "text",
      "id": "secondary_title",
      "label": "Secondary Title",
      "default": "Ru9 - Nơi giấc ngủ ngon bắt đầu"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description",
      "default": "<p>Chúng tôi không ngừng cải tiến từng chi tiết, để sản phẩm không chỉ \"êm\" mà còn \"hiểu\" được cơ thể bạn. Mỗi thiết kế, mỗi cải tiến trong chất liệu đều hướng đến cảm giác thoải mái và nâng đỡ tốt nhất cho cơ thể bạn. Từ đó, giấc ngủ không còn là điều xa xỉ, mà trở thành điều hiển nhiên và dễ dàng tiếp cận hơn với mọi người.</p>"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "image_picker",
      "id": "image_mobile",
      "label": "Mobile Image"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Xem chi tiết"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link"
    }
  ],
  "presets": [
    {
      "name": "Content Banner CTA"
    }
  ]
}
{% endschema %}
